<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>BackgrounDRb - Using BackgrounDRb workers</title>
    <link rel="stylesheet" href="/style.css" type="text/css" media="screen" />
  </head>

  <body>

    <div id="wrapper">
      <div id="header">
	<h1> BackgrounDRb </h1>
      </div>

      <div id="menu">
	<ul>
	  <li><a href="/index.html"> Intro </a></li>
          <li><a href="/scheduling/index.html"> Scheduling </a></li>
          <li><a href="/workers/index.html"> Workers </a></li>
          <li><a href="/rails/index.html"> Rails Integration </a></li>
          <li><a href="/advanced/index.html"> Advanced </a></li>
	  <li><a href="/manual/index.html"> Manual </a></li>
	  <li><a href="/community/index.html"> Community </a></li>
	  <li><a href="/bugs/index.html"> Bugs </a></li>
	</ul>
      </div>

      <div id="sidebar">
	<div id="feed">
	  <!-- <a class="feed-button" href="#">&nbsp;</a> -->
	</div>
	<ul>
	  
	  
	  <li><a href="#introduction"> Introduction </a></li>
	  
	  <li><a href="#thread_pool"> Thread Pool </a></li>
	  
	  <li><a href="#options"> Options </a></li>
	  
	  
	</ul>

	<div id="sidebar-bottom">
	  &nbsp;
	</div>
      </div>

	<div id="content">

	<p><span class="entry-title"><a name="introduction"> Introduction </a></span></p>


	<p>Workers are your building blocks of Asynchronous Task Processing. An empty auto generated worker looks like this:</p>


<pre class="multiline">class BillingWorker &lt; BackgrounDRb::MetaWorker
  set_worker_name :billing_worker
  def create(args = nil)
    # method gets called, when new instance of worker is created.                      
   end
  end </pre>

	<p><code>set_worker_name</code> will set the worker name which can be later used while invoking tasks on the worker.
<code>create</code> method gets called when worker is loaded for the first time. If you are starting your worker 
from rails, you can pass arguments to <code>create</code> method using:</p>


<pre class="multiline">MiddleMan.new_worker(:worker =&gt; :billing_worker,\
     :job_key =&gt; user_session,:data =&gt; current_user.id) </pre>

	<p class="sub-title">Using Workers</p>


	<p>You can invoke random tasks on workers from rails or you can schedule them using config file. Look into
<a href="/scheduling/index.html">Scheduling</a> section for scheduling and <a href="/rails/index.html">Rails Integration</a> section
for invoking worker tasks from rails.</p>


	<p class="sub-title">Inbuilt instance methods available in your workers:</p>


	<ul class="content_list">
	<li><code>register_status</code> : Can be used to store random results from worker which can be later retrieved from rails. For example:
  <pre class="boxed"> register_status("Hello") </pre></li>
		<li><code>add_timer</code></li>
		<li><code>add_periodic_timer</code></li>
		<li><code>thread_pool</code></li>
	</ul>


</div>

      <div id="footer">
	<div id="footer-valid">
	  <a href="http://validator.w3.org/check/referer">xhtml</a> / <a href="http://www.ginger-ninja.net/">ginger ninja!</a>
	</div>
      </div>

    </div> <!-- end of wrapper div tag -->
  </body>
</html>
